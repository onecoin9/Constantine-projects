# C++/Qt 编码规范 - 代码示例索引

> 快速查找各章节的代码示例位置和主题

## 📚 11 个章节的代码示例导航

### 1️⃣ 命名与代码风格 `naming`
**3 个代码块** | **推荐 + 反例 + 格式化**

| 内容 | 代码行数 | 关键技术点 |
|------|---------|----------|
| ✓ 推荐：PascalCase/camelCase 命名规范 | 25 | 类型命名、函数命名、常量 |
| ✗ 反例1：混乱的命名约定 | 20 | 缩写、无前缀、混用风格 |
| ✗ 反例2：错误的代码格式 | 15 | 不规范的块结构、缩进 |

**快速查找**：搜索 "推荐：清晰规范的命名"

---

### 2️⃣ 现代 C++ 语言特性 `cpp-modern`
**2 个代码块** | **推荐 + 反例**

| 内容 | 代码行数 | 关键技术点 |
|------|---------|----------|
| ✓ 推荐：smart pointers, optional, enum class | 35 | unique_ptr, optional, constexpr |
| ✗ 反例：过时的 C++ 风格 | 30 | 裸指针、auto 滥用、异常处理 |

**快速查找**：搜索 "推荐：使用智能指针和 RAII"

---

### 3️⃣ 内存与资源管理 `memory`
**2 个代码块** | **推荐 + 反例**

| 内容 | 代码行数 | 关键技术点 |
|------|---------|----------|
| ✓ 推荐：Qt 父子关系、unique_ptr、容器迭代 | 35 | 对象生命周期、RAII、迭代器 |
| ✗ 反例：内存泄漏和迭代器错误 | 40 | 悬挂指针、循环引用、迭代器失效 |

**快速查找**：搜索 "推荐：使用 Qt 父子关系"

---

### 4️⃣ 错误处理与诊断 `error`
**2 个代码块** | **推荐 + 反例**

| 内容 | 代码行数 | 关键技术点 |
|------|---------|----------|
| ✓ 推荐：optional、Expected、异常捕获 | 35 | std::optional, try-catch, logging |
| ✗ 反例：异常泄漏和静默失败 | 40 | 信号槽异常、静默失败、异常链丢失 |

**快速查找**：搜索 "推荐：使用 optional 和 Expected"

---

### 5️⃣ Qt 框架专项规范 `qt`
**2 个代码块** | **推荐 + 反例**

| 内容 | 代码行数 | 关键技术点 |
|------|---------|----------|
| ✓ 推荐：新式 functor 连接、线程亲和性 | 40 | connect(), Lambda, moveToThread |
| ✗ 反例：过时信号槽、线程错误 | 45 | 字符串连接、线程阻塞、线程不安全 |

**快速查找**：搜索 "推荐：现代 Qt 信号槽"

---

### 6️⃣ 多线程与并发 `threading`
**2 个代码块** | **推荐 + 反例**

| 内容 | 代码行数 | 关键技术点 |
|------|---------|----------|
| ✓ 推荐：QThreadPool、QtConcurrent、RAII 锁 | 50 | 线程池、future、lock_guard |
| ✗ 反例：线程管理不当、数据竞争 | 55 | 裸 thread、无锁、死锁、悬挂指针 |

**快速查找**：搜索 "推荐：使用高级线程工具"

---

### 7️⃣ UI 与交互层规范 `ui`
**2 个代码块** | **推荐 + 反例**

| 内容 | 代码行数 | 关键技术点 |
|------|---------|----------|
| ✓ 推荐：Qt Designer、布局管理器、HiDPI | 45 | Designer, QVBoxLayout, HiDPI |
| ✗ 反例：手工布局、硬编码、混合布局 | 50 | 手工 setGeometry, 固定像素 |

**快速查找**：搜索 "推荐：规范的 UI 设计"

---

### 8️⃣ 构建依赖与配置管理 `build`
**2 个代码块** | **CMake 推荐 + 反例**

| 内容 | 代码行数 | 关键技术点 |
|------|---------|----------|
| ✓ 推荐：CMake、FetchContent、AUTOMOC | 45 | qt_add_executable, find_package |
| ✗ 反例：手工 MOC、硬编码路径、版本混用 | 40 | 过时 API、路径问题、版本冲突 |

**快速查找**：搜索 "推荐 CMakeLists.txt 结构"

---

### 9️⃣ 测试与质量保障 `testing`
**2 个代码块** | **推荐 + 反例**

| 内容 | 代码行数 | 关键技术点 |
|------|---------|----------|
| ✓ 推荐：Qt Test、Mock、参数化测试 | 50 | Q_OBJECT, QVERIFY, 参数测试 |
| ✗ 反例：幽灵测试、顺序依赖、不稳定 | 45 | 无断言、固定延迟、Q_OBJECT 缺失 |

**快速查找**：搜索 "推荐：规范的单元测试"

---

### 🔟 安全与隐私要求 `security`
**2 个代码块** | **推荐 + 反例**

| 内容 | 代码行数 | 关键技术点 |
|------|---------|----------|
| ✓ 推荐：系统凭据、输入验证、脱敏、RBAC | 55 | QSettings, Whitelist, 审计日志 |
| ✗ 反例：硬编码、注入、泄露、权限缺失 | 50 | 明文密码、命令注入、日志泄露 |

**快速查找**：搜索 "推荐：安全的凭据管理"

---

### 1️⃣1️⃣ 性能优化与资源消耗 `performance`
**2 个代码块** | **推荐 + 反例**

| 内容 | 代码行数 | 关键技术点 |
|------|---------|----------|
| ✓ 推荐：缓存、异步 I/O、资源清理、监控 | 55 | 缓存策略、QTimer、内存监控 |
| ✗ 反例：UI 阻塞、内存泄漏、同步 I/O | 50 | 阻塞操作、无限分配、无缓存 |

**快速查找**：搜索 "推荐：性能优化最佳实践"

---

## 🎯 按技术点快速查找

### 智能指针相关
- 📍 现代 C++ - 推荐示例
- 📍 内存管理 - 推荐示例
- 📍 内存管理 - 反例（循环引用）

### 并发和线程
- 📍 多线程 - 推荐示例（QThreadPool 详细演示）
- 📍 多线程 - 反例（死锁、竞争）
- 📍 Qt 框架 - 推荐示例（线程亲和性）

### 错误处理
- 📍 错误处理 - 推荐示例（optional + 日志）
- 📍 错误处理 - 反例（静默失败）
- 📍 测试 - 推荐示例（错误情况测试）

### 安全性
- 📍 安全隐私 - 推荐示例（完整 RBAC + 脱敏）
- 📍 安全隐私 - 反例（硬编码 + 注入）
- 📍 输入验证 - 允许列表模式

### 性能
- 📍 性能优化 - 推荐示例（缓存 + 异步）
- 📍 性能优化 - 反例（阻塞 + 泄漏）
- 📍 UI 交互 - 反例（固定像素导致性能差）

### UI 开发
- 📍 UI 交互 - 推荐示例（Designer + 布局）
- 📍 UI 交互 - 反例（手工布局 + 硬编码）
- 📍 Qt 框架 - 推荐示例（信号槽连接）

### 构建系统
- 📍 构建配置 - 推荐（完整 CMakeLists.txt）
- 📍 构建配置 - 反例（版本混用 + 硬编码）

---

## 📖 使用说明

### 查找特定技术的示例
1. 在 HTML 文档中使用 **Ctrl+K** 打开搜索框
2. 输入关键技术词（如 "unique_ptr", "connect", "QThreadPool"）
3. 系统会高亮匹配的章节

### 学习推荐顺序
**新手开发者**：
1. 命名与风格 → 现代 C++ → 内存管理 → 错误处理

**中级开发者**：
1. Qt 框架 → 多线程 → UI 交互 → 性能优化

**高级开发者**：
1. 安全隐私 → 测试质量 → 构建配置

### 代码评审参考
1. 针对具体问题的代码找相关反例
2. 向作者展示"推荐"示例对比
3. 参考相关代码块的详细注释进行讲解

---

## 📊 文档统计

| 指标 | 数值 |
|------|------|
| 总代码块数 | 44+ |
| 总代码行数 | ~800 |
| 推荐示例 | 11 |
| 反例示例 | 11+ |
| 覆盖的技术点 | 50+ |
| 平均每个章节的代码行 | ~73 |

---

## 🔗 相关资源

- **主文档**：`cpp-qt-coding-standard-new.html`
- **增强总结**：`ENHANCEMENT_SUMMARY.md`
- **本索引**：`CODE_EXAMPLES_INDEX.md`

---

**更新日期**：2025-10-27  
**维护者**：Winnie 团队  
**版本**：v1.0
