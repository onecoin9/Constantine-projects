@media (prefers-color-scheme:dark) {
   :root {
      --bg: #1a1b26;

      --urlbar-bg: #0d0d15;
      --urlbar-border-top: #000;
      --urldrop-bg: #0d0d15;
      --urlbar-border-bottom: #404040;
      --urlbar-height: 30px;
      --urlbar-outline: #414868;

      /* æŸ”å’Œçš„æ–‡å­—é¢œè‰² */
      --urlbar-text-color: #a9b1d6;
      --urlbar-placeholder-color: #565f89;
      --urlbar-suggestion-text: #c0caf5;

      --fullscreen-warn: rgb(25, 25, 25);

      --arrowpanel-background: var(--urlbar-bg) !important;
      --button-hover-bgcolor: rgba(159, 159, 159, 0.35) !important;
      --button-active-bgcolor: rgba(255, 255, 255, .2) !important;
      --button-bgcolor: rgba(117, 117, 117, 0.9) !important;
      --toolbarbutton-icon-fill-opacity: 0.8 !important;
      --arrowpanel-border-color: rgb(55, 55, 55) !important;
      --identity-btn-hover-color: rgba(117, 117, 117) !important;

      --dark-menu-background-color: rgba(34, 34, 36, .5) !important;
      --dark-menu-border-color: rgb(55, 55, 55) !important;
      --dark-menuitem-hover-background-color: rgba(159, 159, 159, 0.35) !important;
   }
}

@media (prefers-color-scheme:light) {
   :root {
      --bg: #f1f5f9;

      --urlbar-bg: #e1e8ef;
      --urlbar-border-top: #9ca3af;
      --urlbar-border-bottom: #fff;
      --urldrop-bg: #e1e8ef;
      --urlbar-outline: #94a3b8;

      /* æŸ”å’Œçš„æ–‡å­—é¢œè‰² - æµ…è‰²ä¸»é¢˜ */
      --urlbar-text-color: #475569;
      --urlbar-placeholder-color: #94a3b8;
      --urlbar-suggestion-text: #334155;

      --fullscreen-warn: rgb(25, 25, 25);

      --arrowpanel-background: #e2e8f0 !important;
      --button-hover-bgcolor: #e1e8ef !important;
      --button-active-bgcolor: #e1e8ef !important;
      --identity-btn-hover-color: white !important;
   }
}

/* (å¯é€‰éšè—çŠ¶æ€é¢æ¿çš„ä»£ç å·²ç§»é™¤ï¼Œå¦‚éœ€å¯è‡ªè¡Œæ¢å¤) */

/* URL BAR */
#urlbar {
   border-radius: 30px !important;
   border: 0 !important;
}

/* å¼ºåˆ¶æœç´¢æ æ–‡å­—é¢œè‰²ä¼˜åŒ– - ä½¿ç”¨æ›´å…·ä½“çš„é€‰æ‹©å™¨ */
#urlbar #urlbar-input,
#urlbar-input,
.urlbar-input {
   color: #a9b1d6 !important;
   font-weight: 400 !important;
   text-shadow: none !important;
}

/* å¼ºåˆ¶å ä½ç¬¦æ–‡å­—é¢œè‰² */
#urlbar #urlbar-input::placeholder,
#urlbar-input::placeholder,
.urlbar-input::placeholder {
   color: #565f89 !important;
   opacity: 0.8 !important;
}

/* å¼ºåˆ¶æœç´¢å»ºè®®æ–‡å­—é¢œè‰² */
.urlbarView-row,
.urlbarView-row * {
   color: #c0caf5 !important;
}

.urlbarView-row[selected],
.urlbarView-row[selected] * {
   color: #a9b1d6 !important;
}

/* å¼ºåˆ¶ URL æ–‡å­—é¢œè‰² */
.urlbarView-url,
.urlbarView-url * {
   color: #565f89 !important;
   opacity: 0.9 !important;
}

/* å¼ºåˆ¶æœç´¢å»ºè®®æ ‡é¢˜ */
.urlbarView-title,
.urlbarView-title * {
   color: #a9b1d6 !important;
   font-weight: 400 !important;
}

/* å¼ºåˆ¶æ‰€æœ‰ urlbar å†…çš„æ–‡å­— */
#urlbar *,
#urlbar-input-container *,
.urlbar-input-container * {
   color: #a9b1d6 !important;
}

/* é’ˆå¯¹æµ…è‰²ä¸»é¢˜çš„å¼ºåˆ¶æ ·å¼ */
@media (prefers-color-scheme: light) {

   #urlbar #urlbar-input,
   #urlbar-input,
   .urlbar-input {
      color: #475569 !important;
   }

   #urlbar #urlbar-input::placeholder,
   #urlbar-input::placeholder,
   .urlbar-input::placeholder {
      color: #94a3b8 !important;
   }

   #urlbar *,
   #urlbar-input-container *,
   .urlbar-input-container * {
      color: #475569 !important;
   }
}

#urlbar:not(.megabar):hover {
   outline: 1px solid var(--urlbar-outline) !important;
}

#urlbar[focused="true"] {
   border: 0 !important;
   border-top: 1px solid var(--urlbar-border-top) !important;
   border-bottom: 1px solid var(--urlbar-border-bottom) !important;
   border-radius: 30px !important;
}

#urlbar[breakout][breakout-extend] {
   border: none !important;
   box-shadow: rgba(0, 0, 0, 0.09) 0px 2px 1px, rgba(0, 0, 0, 0.09) 0px 4px 2px,
      rgba(0, 0, 0, 0.09) 0px 8px 4px, rgba(0, 0, 0, 0.09) 0px 16px 8px,
      rgba(0, 0, 0, 0.09) 0px 32px 16px !important;
   top: calc((var(--urlbar-toolbar-height) - var(--urlbar-height)) / 2) !important;
   /* left: 0 !important; */
   /* width: 100% !important; */
   /* removed invalid width: calc(--urlbar-width) */
}

#urlbar-container {
   margin-top: 3px;
   display: initial;
}

#urlbar-background {
   box-shadow: none !important;
   border-radius: 30px !important;
   background: var(--urlbar-bg) !important;
}

#urlbar[focused="true"] #urlbar-background {
   box-shadow: inset 1px 1px 1px 0px rgba(0, 0, 0, 0.35) !important;
   outline: none !important;
}

#wrapper-urlbar-container #urlbar {
   height: var(--urlbar-height) !important;
}

/* Active Address/Search Field Dropdown */
#urlbar[breakout][breakout-extend]>#urlbar-background {
   outline: none !important;
   box-shadow: none !important;
   background: var(--urldrop-bg) !important;
   border-radius: 15px !important;
}

#urlbar[breakout][breakout-extend]>#urlbar-input-container,
#urlbar-input-container {
   height: var(--urlbar-height) !important;
   padding-block: 0px !important;
   padding-inline: 0px !important;
   transition: none !important;
}

/* Idendity icon button */
#identity-icon-box.identity-box-button {
   margin: 3px 0 3px 3px;
   border-radius: 14px !important;
   background-color: var(--bg) !important;
   opacity: 0.8
}

#identity-icon-box.identity-box-button:hover {
   cursor: pointer;
   background-color: var(--identity-btn-hover-color) !important;
}

/* Track protection icon */
#tracking-protection-icon-container {
   border-radius: 16px !important;
}

#tracking-protection-icon-container:hover {
   cursor: pointer !important;
}

/* Star button */
#star-button-box {
   border-radius: 16px !important;
}

#star-button-box {
   cursor: pointer !important;
}

/* | Borders | */

.tabbrowser-tab::after {
   border: 0 !important;
}

.titlebar-spacer[type="pre-tabs"] {
   border: 0 !important;
}

#navigator-toolbox {
   border: 1 !important;
}

.titlebar-spacer[type="pre-tabs"] {
   border: 0 !important;
}

.tabbrowser-tab::after {
   border: 0 !important;
}

#urlbar-background {
   border: 0 !important;
}

#urlbar[open]>.urlbarView>.urlbarView-body-outer>.urlbarView-body-inner {
   border-top: 0 !important;
}


/* Active Tab */
:root:not([lwt-default-theme-in-dark-mode]) .tab-background[selected],
.tab-background[multiselected="true"] {
   background: rgba(0, 0, 0, .05) !important;
}

:root[lwt-default-theme-in-dark-mode] .tab-background[selected],
.tab-background[multiselected="true"] {
   background: rgba(0, 0, 0, .2) !important;
}


/* Navigation Bar */
#nav-bar {
   background-color: var(--bg) !important;
}

/* Bookmarks Bar */
#PersonalToolbar {
   background-color: var(--bg) !important;
}

/* Navigation Bar Separator */
#navigator-toolbox {
   border-color: var(--bg) !important;
}

/* Navigation bar Buttons */
toolbarbutton:hover {
   cursor: pointer;
}

/* Show Tab close button on hover */
.tabbrowser-tab:not([pinned]) .tab-close-button {
   display: -moz-box !important;
   opacity: 0;
   visibility: collapse !important;
   transition: opacity 0.25s, visibility 0.25s ease-in !important;
}

.tabbrowser-tab:not([pinned]):hover .tab-close-button {
   opacity: 1;
   visibility: visible !important;
   border-radius: 3px 3px 3px 3px !important;
}

/* Show URL buttons on Hover */
#nav-bar:not([customizing="true"])>#nav-bar-customization-target>#urlbar-container:not(:hover)>#urlbar:not([focused])>#urlbar-input-container>#page-action-buttons {
   opacity: 0;
}

#page-action-buttons {
   transition: opacity 0.15s ease;
}

#nav-bar:not([customizing="true"])>#nav-bar-customization-target>#urlbar-container:not(:hover)>#urlbar:not([focused])>#urlbar-input-container>#tracking-protection-icon-container {
   opacity: 0;
}

#tracking-protection-icon-container {
   transition: opacity 0.15s ease;
}


/*Full Screen Warning*/

#fullscreen-warning {
   background-color: var(--fullscreen-warn) !important;
   border-color: var(--fullscreen-warn) !important;
   max-width: 500px !important;
   max-height: 50px !important;
   border-radius: 50px !important;
   font-size: 12px !important;
   opacity: 0.8 !important;
}

.pointerlockfswarning-generic-text,
.pointerlockfswarning-domain-text {
   font-size: 15px !important;
   color: rgb(255, 255, 255) !important;
   text-shadow: none !important;
}


toolbar#TabsToolbar {
   height: 0px;
   min-height: 0 !important;
   background-color: var(--bg) !important;
   visibility: collapse !important;
}

.toolbar-items {
   visibility: collapse;
}

/* Fix title bar background */
#titlebar {
   background-color: var(--bg) !important;
}

/* Ensure no white space at top */
#main-window {
   background-color: var(--bg) !important;
}

/* Fix window controls area */
.titlebar-buttonbox-container {
   background-color: var(--bg) !important;
}

/* èœå•æŒ‰é’®é¡ºåºè°ƒæ•´ */

#nav-bar #PanelUI-button {
   -moz-box-ordinal-group: 0 !important;
}

#nav-bar #PanelUI-button #PanelUI-menu-button {
   margin-right: 2px !important;
   margin-left: 2px !important;
}


/* å…³é—­/æœ€å°åŒ–/æœ€å¤§åŒ–æŒ‰é’®ä¸å¯¼èˆªå¯¹é½ */
#appMenu-popup {
   margin-inline: -244px !important;
}

#nav-bar {
   padding-left: 0px !important;
   padding-right: 90px !important;
   position: static !important;
}


#TabsToolbar .titlebar-min {
   -moz-box-ordinal-group: 0 !important;
}

#TabsToolbar .titlebar-max,
.titlebar-restore {
   -moz-box-ordinal-group: 1 !important;
}

#TabsToolbar .titlebar-close {
   -moz-box-ordinal-group: 2 !important;
}


@media only screen and (max-width: 670px) {
   #main-window #navigator-toolbox:not([inFullscreen]) #TabsToolbar .titlebar-buttonbox-container {
      visibility: visible !important;
      position: relative !important;
      display: block !important;
   }

   #main-window #navigator-toolbox:not([inFullscreen]) #nav-bar {
      padding-right: initial !important;
   }

   #TabsToolbar.browser-toolbar {
      display: flex !important;
      justify-content: flex-end !important;
   }

}

#toolbar-menubar {
   /* menubar bg color */
   background-color: var(--bg) !important;
}

/* Additional fixes for white space at top */
#navigator-toolbox-background {
   background-color: var(--bg) !important;
}

/* Ensure all toolbars have consistent background */
.browser-toolbar {
   background-color: var(--bg) !important;
}

/* Fix any remaining white space */
#main-window>#navigator-toolbox {
   background-color: var(--bg) !important;
}

/* è¿›ä¸€æ­¥ä¼˜åŒ–æœç´¢æ è§†è§‰æ•ˆæœ */
#urlbar-input-container {
   color: #a9b1d6 !important;
}

/* æœç´¢æ å›¾æ ‡é¢œè‰²ä¼˜åŒ– */
#urlbar .urlbar-icon {
   opacity: 0.7 !important;
   filter: brightness(0.8) !important;
}

/* ä¸‹æ‹‰å»ºè®®èƒŒæ™¯ä¼˜åŒ– */
.urlbarView {
   background-color: var(--urldrop-bg) !important;
   border-radius: 15px !important;
}

.urlbarView-row:hover {
   background-color: rgba(255, 255, 255, 0.05) !important;
}

/* å‡å°‘æ•´ä½“å¯¹æ¯”åº¦ */
#urlbar-background {
   opacity: 0.95 !important;
}

/* é¢å¤–çš„å¼ºåˆ¶æ–‡å­—é¢œè‰²ä¿®å¤ */
#urlbar input,
#urlbar input[type="text"],
#urlbar-input[type="text"],
input#urlbar-input {
   color: #a9b1d6 !important;
   -webkit-text-fill-color: #a9b1d6 !important;
}

/* ä¿®å¤å¯èƒ½çš„ Firefox å†…éƒ¨æ ·å¼è¦†ç›– */
#urlbar-input-container input,
#urlbar-input-container .textbox-input,
.urlbar-input-container input {
   color: #a9b1d6 !important;
   -webkit-text-fill-color: #a9b1d6 !important;
}

/* æµ…è‰²ä¸»é¢˜çš„é¢å¤–ä¿®å¤ */
@media (prefers-color-scheme: light) {

   #urlbar input,
   #urlbar input[type="text"],
   #urlbar-input[type="text"],
   input#urlbar-input,
   #urlbar-input-container input,
   #urlbar-input-container .textbox-input,
   .urlbar-input-container input {
      color: #475569 !important;
      -webkit-text-fill-color: #475569 !important;
   }
}


/* Line up the Windows controls with the rest of the icons in the toolbar. */
:root:not([sizemode="maximized"]) .titlebar-buttonbox-container {
   padding-top: 3px;
}

.titlebar-buttonbox {
   z-index: 3 !important;
   padding-right: 8px;
   padding-top: 8px;
}

/* SIDEBERY */
#sidebar-header {
   display: none !important;
}

.tab[selected="true"] {
   visibility: collapse;
   height: 0px;
}

.tabbrowser-tab {
   visibility: collapse;
   height: 0px;
}

.tabbrowser-tab[visuallyselected="true"] {
   visibility: collapse;
   height: 0px;
}

/* AUTO HIDE SIDE BAR */

#sidebar-box {
   --uc-sidebar-min-width: 40px;
   --uc-sidebar-hover-width: 260px;
   --uc-autohide-sidebar-delay: 1ms;
   /* Waiting time before hiding sidebar */
   position: relative;
   min-width: var(--uc-sidebar-min-width) !important;
   width: var(--uc-sidebar-min-width) !important;
   max-width: var(--uc-sidebar-min-width) !important;
   z-index: 100 !important;
}

#sidebar-box[positionend] {
   direction: rtl;
}

#sidebar-box[positionend]>* {
   direction: ltr;
}

#sidebar-box[positionend]:-moz-locale-dir(rtl) {
   direction: ltr;
}

#sidebar-box[positionend]:-moz-locale-dir(rtl)>* {
   direction: rtl;
}

/* HIDE SIDE BAR IN FULL SCREEN */
#main-window[inFullscreen="true"] #sidebar-box {
   --uc-sidebar-width: 0px;
}

#sidebar-splitter {
   display: none;
}

#sidebar-header {
   overflow: hidden;
   color: var(--bg) !important;
}

#sidebar {
   transition: min-width 115ms linear var(--uc-autohide-sidebar-delay) !important;
   min-width: var(--uc-sidebar-min-width) !important;
   will-change: min-width;
}

#sidebar-box:hover>#sidebar {
   min-width: var(--uc-sidebar-hover-width) !important;
   transition-delay: 0ms !important;
}

/* Expand container on hover to avoid clipping */
#sidebar-box:hover {
   min-width: var(--uc-sidebar-hover-width) !important;
   width: var(--uc-sidebar-hover-width) !important;
   max-width: var(--uc-sidebar-hover-width) !important;
}

.sidebar-panel {
   background-color: transparent !important;
   color: var(--newtab-text-primary-color) !important;
}

.sidebar-panel #search-box {
   -moz-appearance: none !important;
   background-color: rgba(249, 249, 250, 0.1) !important;
   color: inherit !important;
}

/* sidebar divider */

#sidebar,
#sidebar-header {
   background-color: inherit !important;
   /* 	border-inline: 1px solid rgb(80, 80, 80); */
   border-inline-width: 0px 1px;
}

/* Sidebery specific: add toolbar background and divider */
#sidebar-box[sidebarcommand="_3c078156-979c-498b-8990-85f7987dd929_-sidebar-action"]>#sidebar,
#sidebar-box[sidebarcommand="_3c078156-979c-498b-8990-85f7987dd929_-sidebar-action"]>#sidebar-header {
   background-color: var(--toolbar-bgcolor) !important;
   border-inline: 1px solid var(--chrome-content-separator-color) !important;
   border-inline-width: 0px 1px;
}

#sidebar-box:not([positionend])> :-moz-locale-dir(rtl),
#sidebar-box[positionend]>* {
   border-inline-width: 1px 0px;
}

/* çŠ¶æ€é¢æ¿è·Ÿéšä¾§æ  */

#sidebar-box:not([positionend]):hover~#appcontent #statuspanel {
   inset-inline: auto 0px !important;
}

#sidebar-box:not([positionend]):hover~#appcontent #statuspanel-label {
   margin-inline: 0px !important;
   border-left-style: solid !important;
}

/* ç§»é™¤æ—§çš„ titlepreface (ğŸ¦Š) æ¡ä»¶å¸ƒå±€ï¼Œé¿å…é«˜åº¦/æŒ‰é’®å°ºå¯¸æ··ä¹± */

/* é˜²æ­¢æ½œåœ¨çš„ç¬¬äºŒå¥—ç³»ç»ŸæŒ‰é’®æ˜¾ç¤ºï¼šå¼ºåˆ¶éšè—éæˆ‘ä»¬å®šä½çš„å®¹å™¨å‰¯æœ¬ */
#titlebar > .titlebar-buttonbox-container:not(#navigator-toolbox .titlebar-buttonbox-container) {
  display: none !important;
}

:root {
   --wc-height: 24px;          /* åŸ 20 -> 24ï¼Œæ›´å¥½è¦†ç›–åŸç”ŸæŒ‰é’® */
   --wc-left-margin: 10px;
   --wc-btn-padding-top: 4px;  /* å®¹å™¨å†…é¡¶éƒ¨è¡¥å¿ï¼Œä¿è¯å‚ç›´å±…ä¸­ */
   --wc-gap: 10px;             /* æŒ‰é’®é—´è·ï¼Œé¿å…é‡å  */
   --wc-red: hsl(-10, 90%, 60%);
   --wc-yellow: hsl(50, 90%, 60%);
   --wc-green: hsl(160, 90%, 40%);
}

#titlebar {
   appearance: none !important;
}

.titlebar-button>.toolbarbutton-icon {
   visibility: hidden !important;
   display: none !important;
}

.titlebar-button {
   padding: 0 !important;
   height: var(--wc-height) !important;
   min-height: var(--wc-height) !important;
   width: var(--wc-height) !important;
   min-width: var(--wc-height) !important;
   border-radius: 50% !important;
   opacity: 0.82 !important;
   border: none !important;
   -moz-appearance: none !important;
   appearance: none !important;
   box-shadow: 0 0 0 1px rgba(0,0,0,.35), 0 1px 2px rgba(0,0,0,.35);
   backdrop-filter: saturate(1.2);
}

.titlebar-button:hover {
   transform: scale(1.08);
   opacity: 1 !important;
   cursor: pointer;
   box-shadow: 0 0 0 1px rgba(0,0,0,.55), 0 2px 4px rgba(0,0,0,.5);
}

.titlebar-buttonbox {
   display: flex !important;
   margin-right: 8px;
   align-items: center;
   padding-top: var(--wc-btn-padding-top);
}
/* ä½¿ç”¨ margin æ§åˆ¶é—´éš”ï¼Œå…¼å®¹ gap å¯èƒ½å¤±æ•ˆçš„æƒ…å†µ */
.titlebar-buttonbox .titlebar-button { margin-left: var(--wc-gap) !important; }
.titlebar-buttonbox .titlebar-button:first-child { margin-left: 0 !important; }

.titlebar-close {
   background: var(--wc-red) !important;
}

.titlebar-min {
   background: var(--wc-yellow) !important;
}

.titlebar-max,
.titlebar-restore {
   background: var(--wc-green) !important;
}

/* é¡¶éƒ¨æ‹–æ‹½æ¡ä¸ä¾§è¾¹æ‹–æ‹½æ¡ç›¸å…³æ³¨é‡Šå·²ç§»é™¤ï¼ˆå½“å‰ä»…ä½¿ç”¨ä¸­é—´æ¨ªå‘æ‹–æ‹½ç©ºç™½ï¼‰ã€‚ */

/* ä¸­é—´æ¨ªå‘æ‹–æ‹½ç©ºç™½ (åœ°å€æ å³ä¾§) */
:root {
   --drag-gap-width: 140px;  /* ä½ æƒ³è¦çš„ç©ºç™½å®½åº¦ï¼š80~200 ä¹‹é—´è‡ªè¡Œè°ƒæ•´ */
}

/* æ¨ªå‘æ‹–æ‹½é…ç½® */
:root { --inline-drag-gap-width: 120px; }

/* å…³é—­æ—§çš„æ‰©å±•æŒ‰é’®ä¼ªå…ƒç´ æ–¹æ¡ˆ */
#unified-extensions-button { margin-left: 0 !important; }
#unified-extensions-button::before { display: none !important; }

/* å¯é€‰ï¼šno-top-drag ç±» */
:root.no-top-drag #navigator-toolbox::before { display: none !important; }

/* æ¨ªå‘æ‹–æ‹½åŒºåŸŸ */
#urlbar-container {
   position: relative;
   /* ç»™å³ä¾§é¢„ç•™å¯æ‹–æ‹½åŒºåŸŸå®½åº¦ */
   margin-right: var(--inline-drag-gap-width) !important;
}

/* ä¼ªå…ƒç´ ï¼šçœŸå®æ‹–æ‹½åŒº */
#urlbar-container::after {
   content: "";
   position: absolute;
   top: 0; right: calc(-1 * var(--inline-drag-gap-width));
   height: 100%; width: var(--inline-drag-gap-width);
   -moz-window-dragging: drag;
   pointer-events: auto; /* æ¥æ”¶åŒå‡» */
   background: transparent;
}

/* å°å±æ”¶ç¼© */
@media (max-width: 1080px) {
   :root { --inline-drag-gap-width: 48px; }
}

/* è°ƒè¯•æ—¶å¯æ·»åŠ è™šçº¿è½®å»“ */
/*
#urlbar-container::after:hover { outline: 1px dashed rgba(255,255,255,.25); }
*/

/* ç¡®ä¿å¯¼èˆªæ å®¹å™¨æ˜¯ flexï¼Œä¾¿äºæˆ‘ä»¬é€šè¿‡ margin åˆ¶é€ é—´éš” */
#nav-bar-customization-target {
   display: flex;
   align-items: center;
}

/* å…¼å®¹å¤‡ç”¨ï¼šéšè—æ‰©å±•èœå•æ—¶ä½¿ç”¨ç¬¬ä¸€ä¸ªæŒ‰é’®åšé”šç‚¹ */
#unified-extensions-button {
   position: relative !important;
   margin-left: var(--drag-gap-width) !important; /* è…¾å‡ºç©ºç™½ */
}

/* æ—§æ–¹æ¡ˆï¼šæ‰©å±•æŒ‰é’®å·¦ä¾§ä¼ªå…ƒç´  (ä¿ç•™ä»¥é˜²å›æ»š) */
#unified-extensions-button::before {
   content: "";
   position: absolute;
   left: calc(-1 * var(--drag-gap-width));
   top: 0;
   width: var(--drag-gap-width);
   height: 100%;
   -moz-window-dragging: drag;          /* å…è®¸æ‹–æ‹½/åŒå‡» */
   pointer-events: auto;                /* éœ€è¦äº‹ä»¶ä»¥æ¥æ”¶åŒå‡» */
   background: transparent;             /* ä¿æŒè§†è§‰ç©ºç™½ */
}

/* å¯é€‰ï¼šå½“çª—å£ç‰¹åˆ«çª„æ—¶è‡ªåŠ¨å…³é—­ï¼Œé¿å…å†…å®¹è¢«å‹ç¼© */
@media (max-width: 1080px) {
   #unified-extensions-button {
      margin-left: 16px !important;
   }
   #unified-extensions-button::before { display: none; }
}

/* Fallbackï¼šå¦‚æœæ²¡æœ‰ unified-extensions-buttonï¼ˆæ—§ç‰ˆæˆ–è¢«ç§»é™¤ï¼‰ï¼Œ
    å¯ä»¥å¯ç”¨ä¸‹é¢çš„è§„åˆ™ï¼ŒæŠŠç¬¬ä¸€ä¸ªæ™®é€šæŒ‰é’®ä½œä¸ºé”šç‚¹ã€‚
    å–æ¶ˆæ³¨é‡Šå³å¯ï¼š
    #nav-bar-customization-target > #urlbar-container + toolbarbutton {
       position: relative !important;
       margin-left: var(--drag-gap-width) !important;
    }
    #nav-bar-customization-target > #urlbar-container + toolbarbutton::before {
       content:""; position:absolute; left:calc(-1 * var(--drag-gap-width)); top:0;
       width:var(--drag-gap-width); height:100%; -moz-window-dragging:drag; background:transparent;
    }
*/

/* å¦‚æœä¸æ‹–æ‹½é¡¶éƒ¨æ¡é‡å¤ï¼Œå¯å‡å°é¡¶éƒ¨æ¡é«˜åº¦æˆ–å¹²è„†ç§»é™¤ DRAG STRIP BLOCKã€‚ä¸¤è€…å¯å…±å­˜ã€‚ */

/* ========================================================================
    DISABLE TOP DRAG STRIP & ALIGN WINDOW BUTTONS
    éœ€æ±‚: ä»…ä¿ç•™åœ°å€æ ä¸æ‰©å±•ä¹‹é—´çš„æ¨ªå‘æ‹–æ‹½ç©ºç™½ï¼Œä¸è¦æ•´æ¡é¡¶éƒ¨æ‹–æ‹½å¸¦ï¼Œ
             å¹¶è®©æœ€å°åŒ–/æœ€å¤§åŒ–/å…³é—­æŒ‰é’®ä¸å…¶å®ƒå›¾æ ‡åœ¨åŒä¸€æ°´å¹³çº¿ã€‚
    åšæ³•: è¦†ç›–å…ˆå‰ä¸ºé¡¶éƒ¨æ‹–æ‹½æ¡åŠ çš„ padding / ä¼ªå…ƒç´ ã€‚
    è‹¥æƒ³æ¢å¤é¡¶éƒ¨æ‹–æ‹½æ¡ï¼šåˆ é™¤æœ¬å—æˆ–æ³¨é‡Š #navigator-toolbox çš„è¦†ç›–è§„åˆ™å³å¯ã€‚
    å¯è°ƒ: --window-buttons-top-offset æ§åˆ¶æŒ‰é’®å‚ç›´å¾®è°ƒã€‚
    ======================================================================== */
:root { --window-buttons-top-offset: 2px; }

/* ç§»é™¤é¡¶éƒ¨é¢å¤–ç•™ç™½ä¸ä¼ªå…ƒç´  */
#navigator-toolbox { padding-top: 0 !important; }
#navigator-toolbox::before { display: none !important; }

/* è°ƒæ•´çª—å£æŒ‰é’®å‚ç›´ä½ç½®ï¼ˆå¯æŒ‰éœ€è¦æ”¹æ•°å€¼ï¼‰ */
.titlebar-buttonbox-container {
   top: var(--window-buttons-top-offset) !important;
}

/* è‹¥ä»å­˜åœ¨ drag-strip å˜é‡å¼•ç”¨ï¼Œå¼ºåˆ¶å…¶é«˜åº¦ä¸º 0ï¼Œé¿å…ç©ºæ´ */
:root { --drag-strip-height: 0px !important; }

/* =====================================================================
    WINDOW BUTTON CLUSTER ALIGNMENT FIX
    ç›®æ ‡: è§£å†³è‡ªå®šä¹‰å½©è‰²åœ†å½¢çª—å£æŒ‰é’®ä¸åŸç”ŸåŒºåŸŸæœªå®Œå…¨é‡åˆ/çœ‹èµ·æ¥æŒ¤åœ¨ä¸€èµ·çš„é—®é¢˜ã€‚
    åšæ³•: é‡æ–°è®¡ç®—å³ä¾§ä¿ç•™å®½åº¦, ä½¿ç”¨å›ºå®šå®šä½å¹¶ä¸ºå¯¼èˆªæ ç•™å‡ºå¡«å……ã€‚
    å¯è°ƒå‚æ•°:
         --wc-gap            æŒ‰é’®ä¹‹é—´æ°´å¹³é—´è·
         --wc-right-offset   æŒ‰é’®ç¾¤è·ç¦»çª—å£å³è¾¹ç¼˜åç§»
         --wc-top-offset     æŒ‰é’®ç¾¤è·ç¦»é¡¶éƒ¨åç§»
         --wc-cluster-width  è‡ªåŠ¨è®¡ç®—å¯¼èˆªæ éœ€è¦é¢„ç•™çš„å®½åº¦ (å¯æŒ‰éœ€è¦å¾®è°ƒ)
    å¦‚éœ€å†æ”¾å¤§æŒ‰é’®: è°ƒæ•´å‰é¢å®šä¹‰çš„ --wc-heightã€‚
    ===================================================================== */
:root {
   --wc-gap: 10px;
   --wc-right-offset: 8px;
   --wc-top-offset: 6px;
   --wc-cluster-width: calc(var(--wc-height) * 3 + var(--wc-gap) * 2 + 16px);
}

/* ä¸ºå¯¼èˆªæ å†…å®¹å³ä¾§é¢„ç•™ç©ºé—´ï¼Œé¿å…æ‰©å±•å›¾æ ‡è¢«çª—å£æŒ‰é’®è¦†ç›– */
#nav-bar { padding-right: var(--wc-cluster-width) !important; }

/* å›ºå®šçª—å£æŒ‰é’®å®¹å™¨åˆ°å³ä¸Šè§’ */
#navigator-toolbox:not([inFullscreen]) .titlebar-buttonbox-container {
   position: fixed !important;
   top: var(--wc-top-offset) !important;
   right: var(--wc-right-offset) !important;
   display: flex !important;
   align-items: center !important;
   z-index: 400 !important;
   padding: 0 !important;
   margin: 0 !important;
   background: transparent !important;
}

/* éšè— TabsToolbar é‡Œå¯èƒ½æ®‹ç•™çš„åŸç”ŸæŒ‰é’®å®¹å™¨ï¼Œé¿å…é‡å½± */
toolbar#TabsToolbar .titlebar-buttonbox-container:not(:first-of-type) {
   display: none !important;
}

/* ç»Ÿä¸€æŒ‰é’®é—´è·ï¼ˆä½¿ç”¨ margin é¿å… gap åœ¨æŸäº›æ„å»ºä¸­å¤±æ•ˆï¼‰ */
#navigator-toolbox .titlebar-buttonbox .titlebar-button { margin-left: var(--wc-gap) !important; }
#navigator-toolbox .titlebar-buttonbox .titlebar-button:first-child { margin-left: 0 !important; }

/* é¿å…æŒ‰é’®è¢«æ‹–æ‹½åŒºåŸŸè¯¯åˆ¤ä¸ºå¯æ‹–æ‹½ï¼Œä¿æŒç‚¹å‡»ä¼˜å…ˆ */
#navigator-toolbox .titlebar-buttonbox .titlebar-button { -moz-window-dragging: no-drag; }

/* å¦‚æœçœ‹åˆ°ä»æœ‰ä¸€å±‚ç³»ç»ŸåŸç”ŸæŒ‰é’®æè¾¹ï¼Œå¯å°è¯•éšè—å¤‡ç”¨å®¹å™¨ï¼ˆè§†ç‰ˆæœ¬å¯èƒ½ä¸å­˜åœ¨ï¼‰ */
#TabsToolbar .titlebar-buttonbox-container[hidden] { display: none !important; }

/* çª—å£æœ€å¤§åŒ–æ—¶å¾®è°ƒé¡¶éƒ¨è·ç¦»ï¼ˆWindows æœ€å¤§åŒ–æ—¶é¡¶éƒ¨åƒç´ ç´§è´´ï¼‰ */
#main-window[sizemode="maximized"] #navigator-toolbox .titlebar-buttonbox-container {
   top: calc(var(--wc-top-offset) - 2px) !important;
}

/* é€‚é…çª„å®½çª—å£ï¼šè‡ªåŠ¨å‡é—´è· */
@media (max-width: 900px) {
   :root { --wc-gap: 6px; --wc-cluster-width: calc(var(--wc-height) * 3 + var(--wc-gap) * 2 + 12px); }
}
