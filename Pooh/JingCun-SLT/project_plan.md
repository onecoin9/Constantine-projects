# 晶存 SLT 项目开发计划

> **项目名称**: JingCun System Level Test (SLT) 测试系统  
> **启动日期**: 2025-10-23  
> **目标完成日期**: 2025-11-24  
> **更新时间**: 2025-10-23

---

## 项目概述

晶存 SLT 测试系统是一个多层级的自动化测试框架,包括:
- **JC Tester**: 主控测试程序(C++ Qt 应用)
- **AC App**: 50个小型工控机客户端(从 VB 迁移至 C++)
- **Handler**: 测试治具接口层(JsonRPC 通讯)

核心目标: 实现 16 路 DUT 并行测试、实时状态监控、完整日志记录与分析。

---

## 功能模块清单与时间表

### 功能 1: 用户管理系统

**目标**: 支持多角色登录、界面权限隔离、模式切换  
**工期**: 3个工作日  
**完成日期**: **10-27**

| 任务内容 | 状态 | 进度 |
|---------|------|------|
| 需求分析、数据模型设计 | ⬜ 未开始 | 0% |
| 登录鉴权模块开发 | ⬜ 未开始 | 0% |
| 权限管理与界面隔离 | ⬜ 未开始 | 0% |

**关键依赖**: 无  
**风险**: 权限模型复杂度

---

### 功能 2: 小型工控机 AC App 重写 (VB → C++)

**目标**: 完整迁移现有 VB 实现至 C++,实现与 JCApp/Tester 的交互  
**工期**: 5个工作日  
**完成日期**: **10-31**

| 任务内容 | 状态 | 进度 |
|---------|------|------|
| VB 代码分析、C++ 框架搭建 | ⬜ 未开始 | 0% |
| 核心业务逻辑迁移 | ⬜ 未开始 | 0% |
| JsonRPC 通讯实现与测试 | ⬜ 未开始 | 0% |

**关键依赖**: 需获取完整 VB 源码  
**风险**: VB 特性不兼容、网络环境复杂性

---

### 功能 3: DUT 测试状态获取与 GUI 展示

**目标**: 实时获取 DUT 测试状态、结果、温度压力值,并在界面展示  
**工期**: 8个工作日  
**完成日期**: **11-12**

| 任务内容 | 状态 | 进度 |
|---------|------|------|
| 数据模型设计 & 通讯协议 | ⬜ 未开始 | 0% |
| Tester ↔ AC App 通讯实现 | ⬜ 未开始 | 0% |
| GUI 仪表盘设计与实现 | ⬜ 未开始 | 0% |
| 性能测试 & 集成验证 | ⬜ 未开始 | 0% |

**关键依赖**: 功能 2 完成  
**风险**: 网络延迟、数据同步一致性

---

### 功能 4: DUT 测试日志获取与存储

**目标**: 完整收集 16 路 DUT 的测试日志,按批次/Rack/Slot 分层存储  
**工期**: 2个工作日  
**完成日期**: **11-14**

| 任务内容 | 状态 | 进度 |
|---------|------|------|
| 日志数据模型与文件夹结构设计 | ⬜ 未开始 | 0% |
| AC App 日志收集与上传 | ⬜ 未开始 | 0% |
| Tester 日志聚合与查询接口 | ⬜ 未开始 | 0% |

**关键依赖**: 功能 2、功能 3 完成  
**风险**: I/O 性能、存储容量规划

---

### 功能 5: 小型工控机远程控制

**目标**: 通过远程桌面/SSH 操作 50 台工控机进行故障排查、软件更新等  
**工期**: 3个工作日  
**完成日期**: **11-19**

| 任务内容 | 状态 | 进度 |
|---------|------|------|
| 远程连接方案选型（RDP/VNC） | ⬜ 未开始 | 0% |
| Tester 远程控制模块实现 | ⬜ 未开始 | 0% |
| 50 台工控机联调与文档 | ⬜ 未开始 | 0% |

**关键依赖**: 工控机网络环境配置  
**风险**: 网络安全与隔离设计

---

### 功能 6: Handler 对接任务(JsonRPC 通讯)

**目标**: 实现 Tester ↔ Handler(治具控制层) 的 JsonRPC 双向通讯  
**工期**: 3个工作日  
**完成日期**: **11-24**

| 任务内容 | 状态 | 进度 |
|---------|------|------|
| JsonRPC 通讯协议设计 | ⬜ 未开始 | 0% |
| Tester JsonRPC 客户端实现 | ⬜ 未开始 | 0% |
| Handler 集成与端到端测试 | ⬜ 未开始 | 0% |

**关键依赖**: Handler 现有架构文档  
**风险**: 协议版本兼容性、实时性要求

---

## 项目里程碑

| 里程碑 | 完成日期 | 验收标准 |
|--------|--------|---------|
| **M1** 功能1完成 | **10-27** | 用户管理系统完整可用 |
| **M2** 功能2完成 | **10-31** | AC App C++ 重写完成 |
| **M3** 功能3完成 | **11-12** | DUT 状态实时显示、GUI 完成 |
| **M4** 功能4完成 | **11-14** | 测试日志完整收集存储 |
| **M5** 功能5/6完成 | **11-24** | 远程控制 + JsonRPC 对接完成 |
| **M6** 全部交付 | **11-24** | 所有功能验收、文档交付 |

---

## 工作量评估与人力配置

| 功能模块 | 工期 | 完成日期 | 风险等级 |
|---------|------|--------|---------|
| 功能1: 用户管理 | 3天 | 10-27 | 🟡 中 |
| 功能2: AC App 重写 | 5天 | 10-31 | 🔴 高 |
| 功能3: DUT 状态获取 | 8天 | 11-12 | 🔴 高 |
| 功能4: 日志存储 | 2天 | 11-14 | 🟡 中 |
| 功能5: 远程控制 | 3天 | 11-19 | 🟢 低 |
| 功能6: Handler 对接 | 3天 | 11-24 | 🟡 中 |
| **总计** | **24天** | **11-24** | - |

---

## 风险管理

### 高风险项

1. **AC App VB → C++ 迁移** 🔴
   - 风险: VB 特性不完全兼容、业务逻辑复杂度高
   - 缓解: 提前获取完整源码、设计详细迁移计划、并行开发原型

2. **50 台工控机并发通讯** 🔴
   - 风险: 网络延迟、数据同步不一致、部分机器掉线
   - 缓解: 设计心跳机制、离线缓存、优先级队列

3. **DUT 状态实时同步** 🔴
   - 风险: 16 路 DUT × 50 机 = 800 个数据点并发更新
   - 缓解: 采用发布-订阅模式、数据压缩、定时同步而非实时

### 中风险项

4. **JsonRPC 协议兼容性** 🟡
   - 风险: Handler 现有实现与新需求冲突
   - 缓解: 早期联合设计、版本协商机制

5. **用户管理权限模型** 🟡
   - 风险: 权限粒度不足或过度、维护成本高
   - 缓解: 参考行业标准、设计通用的 RBAC 框架

---

## 进度跟踪

| 功能 | 工期 | 完成日期 | 状态 | 进度 |
|------|------|--------|------|------|
| 功能1: 用户管理 | 3天 | 10-27 | ⬜ | 0% |
| 功能2: AC App | 5天 | 10-31 | ⬜ | 0% |
| 功能3: DUT 状态 | 8天 | 11-12 | ⬜ | 0% |
| 功能4: 日志存储 | 2天 | 11-14 | ⬜ | 0% |
| 功能5: 远程控制 | 3天 | 11-19 | ⬜ | 0% |
| 功能6: Handler | 3天 | 11-24 | ⬜ | 0% |

---

## 依赖与前置条件

### 外部依赖

- [ ] VB 源代码完整交付(功能 2 前置)
- [ ] Handler 现有架构文档与源码(功能 6 前置)
- [ ] 50 台工控机硬件与网络环境准备(功能 2、5 前置)
- [ ] ASC 接口文档与测试环境(功能 3 前置)

### 内部依赖

- 功能 2 → 功能 3、功能 4(通讯基础)
- 功能 1 → 功能 3(权限隔离)
- 功能 6 → 功能 3(实时数据)

---

## 技术栈与工具

| 组件 | 技术栈 | 备注 |
|------|--------|------|
| Tester 主应用 | C++ 17 + Qt 5.15 | 跨平台 GUI |
| AC App | C++ 17 (从 VB 迁移) | Windows/Linux |
| 通讯协议 | JsonRPC 2.0 over TCP/HTTP | 规范化 |
| 数据库 | SQLite / MySQL | 本地/集中式可选 |
| 日志框架 | spdlog + 自定义格式 | 高性能 |
| 远程控制 | RDP / VNC (OpenSSH) | 通用方案 |
| 构建工具 | CMake 3.16+ / Qt Creator | 跨平台编译 |
| 版本控制 | Git (Constantine-projects) | 现有仓库 |

---

## 文档清单

在项目进行过程中需生成/更新以下文档:

- [ ] **需求规格说明书** (10-27 前完成)
- [ ] **系统架构设计文档** (10-27 前完成)
- [ ] **JsonRPC 接口规范** (10-29 前完成)
- [ ] **数据库设计文档** (11-03 前完成)
- [ ] **用户手册** (11-30 前完成)
- [ ] **运维手册** (11-30 前完成)
- [ ] **测试报告** (11-30 前完成)
- [ ] **源代码注释与 API 文档** (持续)

---

## 附录: 快速参考

### 关键联系人

- **项目经理**: (待填)
- **AC App VB 源码维护人**: (待填)
- **Handler 系统架构师**: (待填)
- **硬件/工控机环境**: (待填)

### 重要会议

- **周一 10:00** - 周例会(进度同步)
- **周三 15:00** - 技术评审(架构/关键决策)
- **周五 17:00** - 周总结

### 问题跟踪

所有 Issue 和 Risk 统一记录在: [JingCun-SLT Issues](TODO: 创建专用 issue tracker)

---

**文档历史**:

| 版本 | 日期 | 更新内容 | 作者 |
|------|------|---------|------|
| v1.0 | 2025-10-23 | 初版计划,包含 6 大功能模块与时间表 | Copilot |

