
# 软件需求文档 (Software Requirements Document)

## 文档信息

| 项目名称 | [项目名称]    |

| -------- | ------------- |

| 文档版本 | v1.0          |

| 创建日期 | [20250805]    |

| 最后更新 | [20250806]    |

| 作者     | [Constantine] |

| 审核人   | [审核人姓名]  |

| 状态     | [草稿]        |

---

## 目录

1. [1. 引言](#1-引言)
2. [2. 项目概述](#2-项目概述)
3. [3. 功能需求](#3-功能需求)
4. [4. 非功能需求](#4-非功能需求)
5. [5. 系统架构](#5-系统架构)
6. [6. 用户界面需求](#6-用户界面需求)
7. [7. 数据需求](#7-数据需求)
8. [8. 接口需求](#8-接口需求)
9. [9. 约束条件](#9-约束条件)
10. [10. 风险评估](#10-风险评估)
11. [11. 验收标准](#11-验收标准)
12. [12. 附录](#12-附录)

---

## 1. 引言

### 1.1 文档目的

本文档是针对客户门压芯片（如SMP475等）的自动化测试方案说明，明确系统的功能、性能及接口等需求，指导开发团队实现对门压芯片的自动化测试、标定和数据采集，确保测试系统满足客户的实际应用需求。

### 1.2 适用范围

本文档适用于：

- 项目开发团队
- 质量保证团队
- 项目管理团队
- 最终用户代表

### 1.3 术语定义

| 术语    | 定义    |

| ------- | ------- |

| [术语1] | [定义1] |

| [术语2] | [定义2] |

| [术语3] | [定义3] |

### 1.4 参考文档

- [相关文档1]
- [相关文档2]
- [相关文档3]

---

## 2. 项目概述

### 2.2 项目目标

- 实现对门压芯片（如SMP475等）的自动化测试与标定
- 支持芯片寄存器的自动读写
- 支持多温区、多压力点的自动测试
- 实现芯片自动取放，提升测试效率
- 满足客户对压力范围、温区数量等硬件要求

### 2.3 项目范围

#### 2.3.1 包含范围

- 支持门压芯片型号：SMP475等
- 通信接口：PSI5
- 芯片寄存器的自动读写
- 在不同压力、温度点下自动读取芯片内部寄存器
- 完成芯片标定过程，并将标定结果写入寄存器
- 自动进行芯片的取放操作
- 支持四个独立温区
- 支持压力范围≤300KPa
- 自动化UPH不低于1200

#### 2.3.2 不包含范围

- 非PSI5接口芯片的测试
- 超出压力范围300KPa的测试
- 超出四温区的测试需求

---

## 3. 功能需求

### 3.1 用户角色定义

| 角色     | 描述   | 权限       |

| -------- | ------ | ---------- |

| 管理员   | [描述] | [权限列表] |

| 普通用户 | [描述] | [权限列表] |

| 访客     | [描述] | [权限列表] |

### 3.2 功能模块

#### 3.2.1 自动化测试流程

**功能描述**：

实现门压芯片自动化测试的全流程控制，包括芯片的取放、预冷、压力/温度点测试、标定、误差检查、OTP写入及自动分Bin等操作。

**动作流程**：

1.**Step1**：从1位置取料，经过2位置到达3位置进行预冷（如有预冷需求）。

2.**Step2**：从3位置进入4位置，进行当前温度下多个压力数据的变化读取。

3.**Step3**：从4-1依次移动到4-4，完成多个PT点位的测试。

4.**Step4**：在4-4位置完成标定、误差检查和OTP写入等芯片操作，并给出测试结果。

5.**Step5**：自动化系统根据OK/NG结果将芯片分Bin处理。

**自动化注意事项**：

- 考虑到标定、误差测试等环节会要求芯片在不同温区内流转，自动化控制系统需具备灵活的温区选择和流转机制。
- 测试流程中应允许芯片根据需求直接从某一PT点（如PT-1）跳转至另一PT点（如PT-3），以适应不同测试和标定场景的要求。

#### 3.2.2 整体流程说明

门压标定测试过程分为两个大阶段：

1.**标定+OTP写入流程**：芯片依次经过4个温区，完成NPNT（多温区测试）后进行标定和OTP写入，流程结束后芯片回到出料盘。

2.**误差确认流程**：操作员切换流程为测试流程，并将芯片重新投入进料盘。系统根据测试的PT点确认DUT（被测芯片）是否符合预期，最终完成结果判定。

> 后续将对标定、OTP写入和误差确认这三个流程做详细分解说明。

**整体流程图示意：**

![1754474627036](../../images/1754474627036.png)

#### 3.2.3 标定流程详细说明

**流程概述**：

客户约定的4P4T或更多点位都需要遍历到位，得到每个DUT对应的所有PT点的采样信息。其中T_CIC和P_CIC来自指定的寄存器读取。

**标定流程图**：

![1754474640288](../../images/1754474640288.png)

**寄存器信息**：

![1754474645178](../../images/1754474645178.png)

**文件格式说明**：

**DUT-X-Sample.csv格式说明**：

- 文件路径：可设置，默认存放在D:\MT\Cache
- 文件命名：DUT-X-Sample.csv，其中X根据需要编码
- 用途：存储所有PT点的采样信息，作为MTPTCali.exe的输入文件

**DUT-X-OTPResult.csv格式说明**：

- 文件路径：可设置，默认存放在D:\MT\Cache
- 文件命名：DUT-X-OTPResult.csv，其中X根据需要编码
- 用途：存储校准结果OTP的写入信息

**关键流程节点**：

1.**自动化放置DUT到目标PT温区**：将芯片自动放置到指定的压力-温度测试温区

2.**DUT上电**：为被测芯片供电

3.**设置压力**：设置对应温区的压力到指定点位

4.**数据采集**：采集T_CIC和P_CIC数据（多次采集取平均值，如20次）

5.**数据记录**：将采集到的PT信息记录到DUT-X-Sample.csv文件中

6.**压力循环**：遍历当前温度下的所有压力点

7.**温度循环**：遍历所有温区

8.**调用标定工具**：调用客户MTPTCali.EXE完成标定步骤，输出标定结果文件DUT_X_OTPResult.csv

**异常处理**：

- 如果有DUT在这个环节有NG，则不进行下一个流程
- 任何一个流程失败就退出剩余流程并报告错误

#### 3.2.4 OTP写入流程

**流程说明**：

本流程用于将标定结果写入芯片OTP区域。Tester读取DUT-X-OTPResult.csv文件，序列化数据并通过驱动写入芯片，随后进行数据校验。若有DUT在此环节写入NG，则流程终止，不进入下一个流程。

**OTP写入流程图**：

![1754474655377](../../images/1754474655377.png)

#### 3.2.5 误差确认流程

**流程说明**：

误差确认流程与标定流程类似，需要在多个PT点完成数据采样，采样结果保存为DUT-X-SampleTest.csv（内容格式与DUT-X-Sample.csv一致，但点位可能更少）。流程结束后，调用MTPTCheck.exe对csv文件的各个点位PT采样结果进行判定。

**误差确认流程图**：

![1754474664260](../../images/1754474664260.png)

#### 3.2.6 数据注意事项

**1.5 DUT的流水线标定和测试**

考虑到有4个温区，PT-1温区内的DUT往PT-2温区转移之后，Handler可以重新从进料盘再补充新的DUT到PT-1温区，依次类推，当DUT到达PT-4温区后，前面三个温区可以填入新的DUT，所以最多可以有64个DUT同时在温区里。

软件在实施的时候要考虑到对64个DUT都做好标记确认每个DUT都经过了客户需要的所有PT点才能进行标定+OTP的写入或做误差确认操作。

所以实际Cache文件夹中在标定+OTP写入阶段最多需要同时记录（Cali温区数*16）颗DUT的采样，在误差确认阶段，需要同时记录（Test温区数*16）颗DUT的采样。

**1.6 Cache文件夹的管理**

为了区分是做标定还是做测试，建议保存名称为：

- DUT-X-CaliSample.csv
- DUT-X-OTPResult.csv
- DUT-X-TestSample.csv

完成后后续可以将其Move到对应的Server上。

**1.7 DUT-X-Sample.csv格式说明**

即每个DUT都有自己的采样结果文件。

CSV格式中有4列：

- 第一列为设置给PT温区的P值
- 第二列为设置给PT温区的T值
- 第三列为当前PT值采样得到的DUT的P值
- 第四列为当前PT值采样得到的DUT的T值

假设客户指定了4P4T则最后应该有16行的采样结果。

### 3.3 业务规则

- [业务规则1]
- [业务规则2]
- [业务规则3]

---

## 4. 非功能需求

### 4.1 性能需求

-**响应时间**：页面加载时间不超过3秒

-**并发用户数**：支持100个并发用户

-**吞吐量**：每秒处理1000个请求

-**资源使用**：CPU使用率不超过80%，内存使用率不超过70%

### 4.2 可靠性需求

-**可用性**：系统可用性达到99.9%

-**故障恢复时间**：系统故障后恢复时间不超过30分钟

-**数据备份**：每日自动备份，保留30天

### 4.3 安全性需求

-**身份认证**：支持用户名密码、双因素认证

-**数据加密**：敏感数据传输和存储采用AES-256加密

-**访问控制**：基于角色的访问控制(RBAC)

-**审计日志**：记录所有关键操作日志

### 4.4 可维护性需求

-**代码规范**：遵循[编程语言]编码规范

-**文档完整性**：提供完整的API文档和用户手册

-**模块化设计**：系统采用模块化设计，便于维护和扩展

### 4.5 兼容性需求

-**浏览器兼容**：支持Chrome 80+、Firefox 75+、Safari 13+

-**操作系统兼容**：支持Windows 10+、macOS 10.15+、Linux Ubuntu 18.04+

-**移动设备兼容**：支持iOS 12+、Android 8+

---

## 5. 系统架构

### 5.1 整体架构

```

[系统架构图或描述]

```

### 5.2 技术栈

-**前端**：[技术栈]

-**后端**：[技术栈]

-**数据库**：[数据库类型]

-**部署**：[部署方式]

### 5.3 系统组件

- [组件1]：[描述]
- [组件2]：[描述]
- [组件3]：[描述]

---

## 6. 用户界面需求

### 6.1 设计原则

-**简洁性**：界面简洁明了，避免冗余元素

-**一致性**：保持界面风格和交互方式的一致性

-**易用性**：符合用户习惯，降低学习成本

-**响应式**：支持不同屏幕尺寸的设备

### 6.2 界面规范

-**颜色方案**：[主色调、辅助色等]

-**字体规范**：[字体类型、大小等]

-**图标规范**：[图标风格、大小等]

-**布局规范**：[布局原则、网格系统等]

### 6.3 主要界面

#### 6.3.1 登录界面

-**功能**：用户身份验证

-**元素**：用户名输入框、密码输入框、登录按钮

-**交互**：输入验证、错误提示

#### 6.3.2 主界面

-**功能**：系统主要功能入口

-**元素**：导航菜单、功能模块、状态显示

-**交互**：菜单切换、功能调用

---

## 7. 数据需求

### 7.1 数据模型

```

[数据模型图或描述]

```

### 7.2 数据字典

| 字段名  | 数据类型 | 长度   | 是否必填 | 描述   |

| ------- | -------- | ------ | -------- | ------ |

| [字段1] | [类型]   | [长度] | 是/否    | [描述] |

| [字段2] | [类型]   | [长度] | 是/否    | [描述] |

### 7.3 数据存储

-**数据库类型**：[数据库类型]

-**存储容量**：[预计存储容量]

-**备份策略**：[备份频率和方式]

### 7.4 数据安全

-**数据分类**：[敏感数据、一般数据等]

-**加密要求**：[加密算法和级别]

-**访问控制**：[数据访问权限控制]

---

## 8. 接口需求

### 8.1 外部接口

#### 8.1.1 第三方系统接口

-**接口名称**：[接口名称]

-**接口类型**：REST API

-**数据格式**：JSON

-**认证方式**：[认证方式]

-**调用频率**：[调用频率限制]

#### 8.1.2 硬件接口

-**设备类型**：[设备类型]

-**通信协议**：[协议类型]

-**数据格式**：[数据格式]

### 8.2 内部接口

-**模块间接口**：[模块间通信方式]

-**API接口**：[内部API规范]

---

## 9. 约束条件

### 9.1 技术约束

-**开发语言**：[限制的编程语言]

-**框架要求**：[必须使用的框架]

-**平台限制**：[运行平台限制]

### 9.2 时间约束

-**项目周期**：[项目总周期]

-**里程碑**：[关键里程碑时间点]

### 9.3 资源约束

-**人力资源**：[可用开发人员数量]

-**预算限制**：[项目预算]

-**硬件资源**：[服务器、设备等限制]

### 9.4 法规约束

-**数据保护法规**：[相关法规要求]

-**行业标准**：[需要遵循的行业标准]

---

## 10. 风险评估

### 10.1 技术风险

| 风险    | 概率     | 影响     | 缓解措施   |

| ------- | -------- | -------- | ---------- |

| [风险1] | 高/中/低 | 高/中/低 | [缓解措施] |

| [风险2] | 高/中/低 | 高/中/低 | [缓解措施] |

### 10.2 项目风险

| 风险    | 概率     | 影响     | 缓解措施   |

| ------- | -------- | -------- | ---------- |

| [风险1] | 高/中/低 | 高/中/低 | [缓解措施] |

| [风险2] | 高/中/低 | 高/中/低 | [缓解措施] |

---

## 11. 验收标准

### 11.1 功能验收标准

| 功能模块 | 验收标准   | 测试方法   |

| -------- | ---------- | ---------- |

| [模块1]  | [验收标准] | [测试方法] |

| [模块2]  | [验收标准] | [测试方法] |

### 11.2 性能验收标准

-**响应时间**：≤ 3秒

-**并发用户**：≥ 100个

-**系统可用性**：≥ 99.9%

### 11.3 质量验收标准

-**代码覆盖率**：≥ 80%

-**缺陷密度**：≤ 1个/KLOC

-**用户满意度**：≥ 90%

---

## 12. 附录

### 12.1 需求跟踪矩阵

| 需求ID | 需求描述   | 设计文档   | 测试用例   | 状态   |

| ------ | ---------- | ---------- | ---------- | ------ |

| FR-001 | [需求描述] | [文档链接] | [用例链接] | [状态] |

| FR-002 | [需求描述] | [文档链接] | [用例链接] | [状态] |

### 12.2 变更记录

| 版本 | 日期   | 变更内容   | 变更人   |

| ---- | ------ | ---------- | -------- |

| v1.0 | [日期] | 初始版本   | [变更人] |

| v1.1 | [日期] | [变更内容] | [变更人] |

### 12.3 相关文档

- [相关文档1]
- [相关文档2]
- [相关文档3]

---

## 文档审批

| 角色       | 姓名   | 签名   | 日期   |

| ---------- | ------ | ------ | ------ |

| 项目经理   | [姓名] | [签名] | [日期] |

| 技术负责人 | [姓名] | [签名] | [日期] |

| 质量保证   | [姓名] | [签名] | [日期] |

| 客户代表   | [姓名] | [签名] | [日期] |

---

**文档结束**

---

*本文档为软件需求文档模板，请根据具体项目需求进行修改和完善。*
