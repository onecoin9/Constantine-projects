# TesterFramework 快速开始指南

## 一、准备工作

### 1.1 硬件准备
- **Nidec S-FLAG电机控制器**（转台）
  - RS-485转USB适配器
  - 确保电机驱动器已上电
  - 设置从站地址（默认为1）

- **XT测试板**（陀螺仪数据采集）
  - RS-422转USB适配器
  - 确保测试板已连接9个陀螺仪传感器

### 1.2 软件准备
- 安装Qt 5.15.2或更高版本
- 安装对应的串口驱动程序
- 编译TesterFramework程序

## 二、快速运行

### 2.1 修改设备配置

编辑 `config/devices.json` 文件，修改串口号：

```json
{
    "devices": [
        {
            "deviceId": "turntable_1",
            "communicationConfig": {
                "parameters": {
                    "portName": "COM3"  // 修改为您的转台串口号
                }
            }
        },
        {
            "deviceId": "testboard_1",
            "communicationConfig": {
                "parameters": {
                    "portName": "COM4"  // 修改为您的测试板串口号
                }
            }
        }
    ]
}
```

### 2.2 启动程序

1. 双击运行 `TesterFramework.exe`
2. 程序启动后会自动加载默认配置

### 2.3 执行测试

1. 点击工具栏的 **"开始测试"** 按钮
2. 系统将自动执行以下流程：
   - 初始化设备连接
   - 转台回零位
   - 开始数据采集
   - 转台旋转到0°、90°、180°、270°四个位置
   - 在每个位置采集5秒数据
   - 停止测试并生成报告

## 三、查看结果

### 3.1 实时监控
- **设备状态**（左侧）：显示设备连接状态
- **工作流进度**（中间上）：显示当前执行步骤
- **测试数据**（中间下）：显示实时采集的陀螺仪数据
- **日志信息**（底部）：显示详细的执行日志

### 3.2 数据解读

测试数据表格显示9个通道的陀螺仪数据：
- **Channel 0-7**：8个测试位置的芯片
- **Channel 8**：外挂参考陀螺仪

每个通道包含：
- **X/Y/Z轴陀螺数据**：角速度值
- **X/Y/Z轴加速度数据**：加速度值
- **温度**：摄氏度
- **正交耦合**：耦合系数

## 四、常见问题

### 4.1 设备无法连接
```
错误：打开串口失败
解决：
1. 检查设备管理器中的串口号
2. 确认串口未被其他程序占用
3. 重新插拔USB转接器
```

### 4.2 转台不响应
```
错误：响应超时
解决：
1. 检查RS-485接线（A+/B-）
2. 确认波特率为57600，偶校验
3. 检查从站地址设置
```

### 4.3 数据接收异常
```
错误：CRC错误
解决：
1. 检查RS-422接线
2. 确认波特率为115200，无校验
3. 检查接地是否良好
```

## 五、进阶使用

### 5.1 自定义测试流程

创建新的工作流文件 `my_workflow.json`：

```json
{
    "workflow": {
        "id": "my_test",
        "steps": [
            {
                "type": "DeviceCommand",
                "config": {
                    "deviceId": "turntable_1",
                    "command": "moveToPosition",
                    "params": {"position": 45}
                }
            }
        ]
    }
}
```

### 5.2 手动控制设备

通过菜单 **"控制 -> 设备控制"** 可以：
- 手动移动转台到指定角度
- 读取/设置电机参数
- 查看编码器数据
- 手动启停数据采集

### 5.3 数据导出

测试完成后，结果保存在 `reports/` 目录下，格式为JSON，包含：
- 测试时间戳
- 所有采集的原始数据
- 统计分析结果

## 六、联系支持

如遇到问题，请准备以下信息：
1. 程序版本和编译时间
2. 设备型号和固件版本
3. 错误日志（从日志窗口复制）
4. 设备配置文件

技术支持邮箱：support@example.com 