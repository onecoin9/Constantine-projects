{
    "workflow": {
      "id": "siteworkflow_v2.0",
      "name": "å¢å¼ºç‰ˆsiteå·¥ä½œæµ",
      "description": "æ”¯æŒå®Œæ•´å››å‚æ•°ç»“æ„çš„ç«™ç‚¹æµ‹è¯•æµç¨‹",
      "version": "4.0",
      "steps": [
        {
          "id": "siteworkflow_001",
          "type": "Delay",
          "name": "ç­‰å¾…ç«™ç‚¹åˆ›å»ºå®Œæ¯•",
          "config": {
            "durationMs": 2000
          }
        },
        {
          "id": "step_door_05",
          "type": "DeviceCommand",
          "name": "ğŸ”§ å¢å¼ºä¸Šç”µï¼šè‡ªåŠ¨ä¼ é€’å®Œæ•´å››å‚æ•°ç»“æ„",
          "config": {
            "deviceId": "door_001",
            "command": "poweron",
            "params": {
              "dutActive": 4,
              "_comment": "ç°åœ¨ä¼šè‡ªåŠ¨å¢å¼ºä¸º: devSn=door_001, tagId=0x30000052, enable={socketMask:0x000F, siteIndex:1}"
            }
          }
        },
        {
          "id": "step_handler_03",
          "type": "Delay",
          "name": "ç­‰å¾…ä¸Šç”µç¨³å®š",
          "config": {
            "durationMs": 2000
          }
        },
        {                       
          "id": "step_03",
          "type": "DeviceCommand",
          "name": "æ­¥éª¤3: è®¾å®šç›®æ ‡æ¸©åº¦ 35Â°C",
          "config": {
            "deviceId": "temp_001",
            "command": "settargettemp",
            "params": { "celsius": 35 }
          }
        },
        {
          "id": "step_door_07",
          "type": "DeviceCommand",
          "name": "ğŸ”§ å¢å¼ºæ•°æ®é‡‡é›†ï¼šè‡ªåŠ¨ä¼ é€’å®Œæ•´å››å‚æ•°ç»“æ„",
          "config": {
            "deviceId": "door_001",
            "command": "startdatacollection",
            "params": {
              "sampleTimes": 5,
              "_comment": "ç°åœ¨ä¼šè‡ªåŠ¨å¢å¼ºä¸º: devSn=door_001, tagId=0x30000054, enable={socketMask:è®¡ç®—å€¼, siteIndex:1, sampleTimes:5}"
            }
          }
        },
        {
          "id": "step_delay_01",
          "type": "Delay",
          "name": "ç­‰å¾…æ•°æ®é‡‡é›†å®Œæˆ",
          "config": {
            "durationMs": 3000
          }
        },
        {                       
          "id": "step_04",
          "type": "DeviceCommand",
          "name": "æ­¥éª¤4: è®¾å®šç›®æ ‡æ¸©åº¦ 45Â°C",
          "config": {
            "deviceId": "temp_001",
            "command": "settargettemp",
            "params": { "celsius": 45 }
          }
        },
        {
          "id": "step_door_08",
          "type": "DeviceCommand",
          "name": "ğŸ”§ ç«™ç‚¹çº§æ•°æ®é‡‡é›†ï¼šæ”¯æŒå¤šç«™ç‚¹å¹¶è¡Œ",
          "config": {
            "deviceId": "door_001çš„site01",
            "command": "startdatacollection",
            "params": {
              "sampleTimes": 5,
              "_comment": "ç«™ç‚¹çº§å‘½ä»¤ï¼šä»deviceIdè‡ªåŠ¨æå–ç«™ç‚¹ç´¢å¼•(site01->1)ï¼Œä¼ é€’æ­£ç¡®çš„siteIndexå‚æ•°"
            }
          }
        },
        {
          "id": "step_delay_02",
          "type": "Delay",
          "name": "ç­‰å¾…ç«™ç‚¹æ•°æ®é‡‡é›†å®Œæˆ",
          "config": {
            "durationMs": 3000
          }
        },
        {
          "id": "step_handler_03",
          "type": "Delay",
          "name": "ç­‰å¾…å¤„ç†å®Œæˆ",
          "config": {
            "durationMs": 2000
          }
        },
        {
          "id": "step_handler_05",
          "type": "DeviceCommand",
          "name": "Handlerè®¾å¤‡: è®¾ç½®å½“å‰çº¿ç¨‹ç«™ç‚¹çš„å®ŒæˆçŠ¶æ€",
          "config": {
            "deviceId": "handler_1",
            "command": "setdonesite",
            "params": {
              "siteIdx": 1,
              "results": [1, 1, 0, 0, 0, 0, 0, 0],
              "_comment": "Handlerè®¾å¤‡æŒ‡ä»¤ï¼šå‘ŠçŸ¥è‡ªåŠ¨æœºçƒ§å½•ç»“æœï¼Œç­‰å¾…ACKåº”ç­”"
            }
          }
        },
        {
          "id": "step_final",
          "type": "Delay",
          "name": "ç­‰å¾…æµç¨‹å®Œå…¨ç»“æŸ",
          "config": {
            "durationMs": 2000
          }
        }
      ]
    }
} 