{
  "workflow": {
    "id": "handler_full_flow_v1",
    "name": "自动机设备功能验证",
    "version": "1.0.0",
    "description": "完整的自动机设备工作流，包括初始化、版本告知、设备就绪、加载任务和完成站点设置",
    "steps": [
      {
        "id": "step_02",
        "type": "DeviceCommand",
        "name": "告知版本信息",
        "config": {
          "deviceId": "handler_1",
          "command": "telldevcommversion",
          "params": { "version": 2 }
        }
      },
      {
        "id": "step_03", 
        "type": "Delay",
        "name": "等待 2 秒",
        "config": { "durationMs": 2000 }
      },
      {
        "id": "step_04",
        "type": "DeviceCommand",
        "name": "告知设备就绪",
        "config": {
          "deviceId": "handler_1",
          "command": "telldevready",
          "params": {
            "readyInfo": {
              "SiteCnt": 1,
              "SKTCnt": 8,
              "DeviceType": "StdMes", 
              "Version": "1.0",
              "SiteEnable": [
                true, false, false, false, false, false, false, false
              ]
            }
          }
        }
      },
      {
        "id": "step_05",
        "type": "Delay", 
        "name": "等待 2 秒",
        "config": { "durationMs": 2000 }
      },
      {
        "id": "step_06",
        "type": "DeviceCommand",
        "name": "加载任务",
        "config": {
          "deviceId": "handler_1",
          "command": "loadtask",
          "params": {
            "taskData": "3,16,C:/Users/acrov/Desktop/task_temp/IPS3000_2X3.tsk,0,0,0,0,0,0,0,0,0,0,,,,,,,"
          }
        }
      },
      {
        "id": "step_07",
        "type": "Delay",
        "name": "等待 2 秒", 
        "config": { "durationMs": 2000 }
      },
      {
        "id": "step_08",
        "type": "DeviceCommand",
        "name": "设置完成站点状态(告知烧录结果)",
        "config": {
          "deviceId": "handler_1", 
          "command": "setdonesite",
          "params": {
            "siteIdx": 1,
            "results": [1]
          }
        }
      },
      {
        "id": "step_09",
        "type": "Delay",
        "name": "等待 2 秒",
        "config": { "durationMs": 2000 }
      },
      {
        "id": "step_10", 
        "type": "DeviceCommand",
        "name": "查询站点状态", 
        "config": {
          "deviceId": "handler_1",
          "command": "querysitestatus",
          "params": {}
        }
      }
    ]
  }
} 